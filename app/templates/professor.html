<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Professor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', path='/CSS/professor.css') }}?v={{ time }}">
    <link rel="icon" href="/static/img/img-tela-login.jpg" type="image/png">
</head>
<body>

    <div class="dashboard-container">
        <header class="header">
            <div class="header-left">
                <i class="fas fa-bars"></i>
                <span>Dashboard</span>
            </div>
            <div class="header-right">
                <i class="far fa-bell"></i>
                <div class="profile-icon">
                    <i class="fas fa-user-circle"></i>
                </div>
            </div>
        </header>

        <section class="greeting">
            <h2>Bem-vindo, {{ professor.nome }}!</h2>
            <p>Hoje é {{ data_atual }}</p>
        </section>

        <section class="section">
            <div class="section-header">
                <h3>Agenda de Hoje</h3>
                <i class="far fa-calendar-alt"></i>
            </div>
            <div class="class-list">
                {% for aula in aulas_do_dia %}
                <div class="class-item">
                    <i class="fas fa-circle icon-small"></i>
                    <div class="class-details">
                        <span class="class-time">Horário: {{ aula.hora.strftime("%H:%M") }}</span>
                        <span class="class-name">Tipo de aula: {{ aula.tipo_aula }} - {{ aula.agendamentos|length }}/{{ aula.max_alunos }} alunos</span>
                        <span class="class-studio">Estúdio: {{ aula.estudio.nome }}</span>
                    </div>
                </div>
                {% else %}
                <p>Nenhuma aula cadastrada para hoje.</p>
                {% endfor %}
            </div>
        </section>

        <section class="section">
            <div class="section-header">
                <h3>Próximas Aulas</h3>
                <i class="fas fa-arrow-right"></i>
            </div>
            <div class="next-class-list">
                {% for aula in proximas_aulas %}
                <div class="next-class-item">
                    <div class="class-details">
                        <span class="class-day">Data: {{ aula.dia_semana }} - {{ aula.data.strftime("%d/%m/%Y") }}</span>
                        <span class="class-day">Horário: {{ aula.hora.strftime("%H:%M") }}</span>
                        <span class="class-name">Tipo de aula: {{ aula.tipo_aula }}</span>
                        <span class="class-studio">Estúdio: {{ aula.estudio.nome }}</span>
                    </div>
                    <span class="class-count">{{ aula.agendamentos|length }}/{{ aula.max_alunos }}</span>
                </div>
                {% else %}
                <p>Sem próximas aulas cadastradas.</p>
                {% endfor %}
            </div>
        </section>

        <section class="section">
            <h3>Ações Rápidas</h3>
            <div class="quick-actions">
                <div class="action-card">
                    <i class="fas fa-edit"></i>
                    <span>Registrar Evolução</span>
                </div>

                <div class="action-card" onclick="abrirModalPresenca()">
                    <i class="far fa-calendar-check"></i>
                    <span>Marcar Presença</span>
                </div>

                <div class="action-card">
                    <i class="far fa-calendar-alt"></i>
                    <span>Ver Agenda</span>
                </div>

                <div class="action-card">
                    <i class="fas fa-history"></i>
                    <span>Histórico</span>
                </div>
            </div>
        </section>

        <section class="section">
            <h3>Atividade Recente</h3>
            <div class="recent-activity">
                <ul>
                    <li>
                        <i class="fas fa-square icon-small"></i>
                        <span class="activity-text">Evolução registrada para <strong>Maria Silva</strong></span>
                        <span class="activity-time">Há 2 horas</span>
                    </li>

                    <li>
                        <i class="fas fa-square icon-small"></i>
                        <span class="activity-text">Presença confirmada - <strong>João Santos</strong></span>
                        <span class="activity-time">Ontem, às 16:00</span>
                    </li>

                    <li>
                        <i class="fas fa-square icon-small"></i>
                        <span class="activity-text"><strong>Nova aula agendada</strong></span>
                        <span class="activity-time">Ontem, às 14:30</span>
                    </li>
                </ul>
            </div>
        </section>

        <nav class="bottom-nav">
            <div class="nav-item active">
                <i class="fas fa-home"></i>
                <span>Início</span>
            </div>
            <div class="nav-item">
                <i class="far fa-calendar-alt"></i>
                <span>Agenda</span>
            </div>
            <div class="nav-item">
                <i class="fas fa-chart-line"></i>
                <span>Evolução</span>
            </div>
            <div class="nav-item">
                <i class="far fa-user"></i>
                <span>Perfil</span>
            </div>
        </nav>

    </div> <!-- FIM DO DASHBOARD -->

    <!-- ========================== -->
    <!-- MODAL ESTILIZADO           -->
    <!-- ========================== -->
    <div id="modalOverlay">
        <div id="modal">
            <button class="modal-close" onclick="fecharModal()">&times;</button>
            <h2 id="modalTitulo"></h2>
            <div id="modalConteudo"></div>
            <button id="btnConfirmarPresenca" class="btnSalvar" style="display:none;">
                Confirmar Presença
            </button>
        </div>
    </div>

    <script src="{{ url_for('static', path='/JS/professor.js') }}?v={{ time }}"></script>
</body>
</html>
